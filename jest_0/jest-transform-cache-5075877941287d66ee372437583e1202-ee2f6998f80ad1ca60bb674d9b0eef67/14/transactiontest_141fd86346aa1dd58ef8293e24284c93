1d0b134ce9ed85685b40d98ff0fa1c1a
const Transaction = require("../wallet/transaction/index");

const Wallet = require("../wallet/index");

describe("Transaction", () => {
  let transaction, senderWallet, receiver, amount;
  beforeEach(() => {
    senderWallet = new Wallet();
    receiver = "receiver-publicKey";
    amount = 20;
    transaction = new Transaction({
      senderWallet,
      receiver,
      amount
    });
  });
  it("has an `id`", () => {
    expect(transaction).toHaveProperty("id");
  });
  decribe("outputMap", () => {
    it("has an outputMap", () => {
      expect(transaction).toHaveProperty("outputMap");
    });
    it("outputs amount of receiver", () => {
      expect(transaction.outputMap[receiver]).toEqual(amount);
    });
    it("outputs the remaining balance of the sender", () => {
      expect(transaction.outputMap[senderWallet.publicKey]).toEqual(senderWallet.balance - amount);
    });
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInRyYW5zYWN0aW9uLnRlc3QuanMiXSwibmFtZXMiOlsiVHJhbnNhY3Rpb24iLCJyZXF1aXJlIiwiV2FsbGV0IiwiZGVzY3JpYmUiLCJ0cmFuc2FjdGlvbiIsInNlbmRlcldhbGxldCIsInJlY2VpdmVyIiwiYW1vdW50IiwiYmVmb3JlRWFjaCIsIml0IiwiZXhwZWN0IiwidG9IYXZlUHJvcGVydHkiLCJkZWNyaWJlIiwib3V0cHV0TWFwIiwidG9FcXVhbCIsInB1YmxpY0tleSIsImJhbGFuY2UiXSwibWFwcGluZ3MiOiJBQUFBLE1BQU1BLFdBQVcsR0FBR0MsT0FBTyxDQUFDLDZCQUFELENBQTNCOztBQUNBLE1BQU1DLE1BQU0sR0FBR0QsT0FBTyxDQUFDLGlCQUFELENBQXRCOztBQUVBRSxRQUFRLENBQUMsYUFBRCxFQUFnQixNQUFNO0FBQzVCLE1BQUlDLFdBQUosRUFBaUJDLFlBQWpCLEVBQStCQyxRQUEvQixFQUF5Q0MsTUFBekM7QUFFQUMsRUFBQUEsVUFBVSxDQUFDLE1BQU07QUFDZkgsSUFBQUEsWUFBWSxHQUFHLElBQUlILE1BQUosRUFBZjtBQUNBSSxJQUFBQSxRQUFRLEdBQUcsb0JBQVg7QUFDQUMsSUFBQUEsTUFBTSxHQUFHLEVBQVQ7QUFDQUgsSUFBQUEsV0FBVyxHQUFHLElBQUlKLFdBQUosQ0FBZ0I7QUFBRUssTUFBQUEsWUFBRjtBQUFnQkMsTUFBQUEsUUFBaEI7QUFBMEJDLE1BQUFBO0FBQTFCLEtBQWhCLENBQWQ7QUFDRCxHQUxTLENBQVY7QUFPQUUsRUFBQUEsRUFBRSxDQUFDLGFBQUQsRUFBZ0IsTUFBTTtBQUN0QkMsSUFBQUEsTUFBTSxDQUFDTixXQUFELENBQU4sQ0FBb0JPLGNBQXBCLENBQW1DLElBQW5DO0FBQ0QsR0FGQyxDQUFGO0FBSUFDLEVBQUFBLE9BQU8sQ0FBQyxXQUFELEVBQWMsTUFBTTtBQUN6QkgsSUFBQUEsRUFBRSxDQUFDLGtCQUFELEVBQXFCLE1BQU07QUFDM0JDLE1BQUFBLE1BQU0sQ0FBQ04sV0FBRCxDQUFOLENBQW9CTyxjQUFwQixDQUFtQyxXQUFuQztBQUNELEtBRkMsQ0FBRjtBQUlBRixJQUFBQSxFQUFFLENBQUMsNEJBQUQsRUFBK0IsTUFBTTtBQUNyQ0MsTUFBQUEsTUFBTSxDQUFDTixXQUFXLENBQUNTLFNBQVosQ0FBc0JQLFFBQXRCLENBQUQsQ0FBTixDQUF3Q1EsT0FBeEMsQ0FBZ0RQLE1BQWhEO0FBQ0QsS0FGQyxDQUFGO0FBSUFFLElBQUFBLEVBQUUsQ0FBQyw2Q0FBRCxFQUFnRCxNQUFNO0FBQ3REQyxNQUFBQSxNQUFNLENBQUNOLFdBQVcsQ0FBQ1MsU0FBWixDQUFzQlIsWUFBWSxDQUFDVSxTQUFuQyxDQUFELENBQU4sQ0FBc0RELE9BQXRELENBQ0VULFlBQVksQ0FBQ1csT0FBYixHQUF1QlQsTUFEekI7QUFHRCxLQUpDLENBQUY7QUFLRCxHQWRNLENBQVA7QUFlRCxDQTdCTyxDQUFSIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgVHJhbnNhY3Rpb24gPSByZXF1aXJlKFwiLi4vd2FsbGV0L3RyYW5zYWN0aW9uL2luZGV4XCIpO1xyXG5jb25zdCBXYWxsZXQgPSByZXF1aXJlKFwiLi4vd2FsbGV0L2luZGV4XCIpO1xyXG5cclxuZGVzY3JpYmUoXCJUcmFuc2FjdGlvblwiLCAoKSA9PiB7XHJcbiAgbGV0IHRyYW5zYWN0aW9uLCBzZW5kZXJXYWxsZXQsIHJlY2VpdmVyLCBhbW91bnQ7XHJcblxyXG4gIGJlZm9yZUVhY2goKCkgPT4ge1xyXG4gICAgc2VuZGVyV2FsbGV0ID0gbmV3IFdhbGxldCgpO1xyXG4gICAgcmVjZWl2ZXIgPSBcInJlY2VpdmVyLXB1YmxpY0tleVwiO1xyXG4gICAgYW1vdW50ID0gMjA7XHJcbiAgICB0cmFuc2FjdGlvbiA9IG5ldyBUcmFuc2FjdGlvbih7IHNlbmRlcldhbGxldCwgcmVjZWl2ZXIsIGFtb3VudCB9KTtcclxuICB9KTtcclxuXHJcbiAgaXQoXCJoYXMgYW4gYGlkYFwiLCAoKSA9PiB7XHJcbiAgICBleHBlY3QodHJhbnNhY3Rpb24pLnRvSGF2ZVByb3BlcnR5KFwiaWRcIik7XHJcbiAgfSk7XHJcblxyXG4gIGRlY3JpYmUoXCJvdXRwdXRNYXBcIiwgKCkgPT4ge1xyXG4gICAgaXQoXCJoYXMgYW4gb3V0cHV0TWFwXCIsICgpID0+IHtcclxuICAgICAgZXhwZWN0KHRyYW5zYWN0aW9uKS50b0hhdmVQcm9wZXJ0eShcIm91dHB1dE1hcFwiKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGl0KFwib3V0cHV0cyBhbW91bnQgb2YgcmVjZWl2ZXJcIiwgKCkgPT4ge1xyXG4gICAgICBleHBlY3QodHJhbnNhY3Rpb24ub3V0cHV0TWFwW3JlY2VpdmVyXSkudG9FcXVhbChhbW91bnQpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoXCJvdXRwdXRzIHRoZSByZW1haW5pbmcgYmFsYW5jZSBvZiB0aGUgc2VuZGVyXCIsICgpID0+IHtcclxuICAgICAgZXhwZWN0KHRyYW5zYWN0aW9uLm91dHB1dE1hcFtzZW5kZXJXYWxsZXQucHVibGljS2V5XSkudG9FcXVhbChcclxuICAgICAgICBzZW5kZXJXYWxsZXQuYmFsYW5jZSAtIGFtb3VudFxyXG4gICAgICApO1xyXG4gICAgfSk7XHJcbiAgfSk7XHJcbn0pO1xyXG4iXX0=