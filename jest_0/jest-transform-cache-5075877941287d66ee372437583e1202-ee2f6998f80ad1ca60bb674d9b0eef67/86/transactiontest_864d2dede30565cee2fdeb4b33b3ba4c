15e5033efd01d3b6a9535bcdd1512fd6
const Transaction = require("../wallet/transaction/index");

const Wallet = require("../wallet/index");

describe("Transaction", () => {
  let transaction, senderWallet, receiver, amount;
  beforeEach(() => {
    senderWallet = new Wallet();
    receiver = "receiver-publicKey";
    amount = 20;
    transaction = new Transaction({
      senderWallet,
      receiver,
      amount
    });
  });
  it("has an `id`", () => {
    expect(transaction).toHaveProperty("id");
  });
  describe("outputMap", () => {
    it("has an outputMap", () => {
      expect(transaction).toHaveProperty("outputMap");
    });
    it("outputs amount of receiver", () => {
      expect(transaction.outputMap[receiver]).toEqual(amount);
    });
    it("outputs the remaining balance of the sender", () => {
      expect(transaction.outputMap[senderWallet.publicKey]).toEqual(senderWallet.balance - amount);
    });
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInRyYW5zYWN0aW9uLnRlc3QuanMiXSwibmFtZXMiOlsiVHJhbnNhY3Rpb24iLCJyZXF1aXJlIiwiV2FsbGV0IiwiZGVzY3JpYmUiLCJ0cmFuc2FjdGlvbiIsInNlbmRlcldhbGxldCIsInJlY2VpdmVyIiwiYW1vdW50IiwiYmVmb3JlRWFjaCIsIml0IiwiZXhwZWN0IiwidG9IYXZlUHJvcGVydHkiLCJvdXRwdXRNYXAiLCJ0b0VxdWFsIiwicHVibGljS2V5IiwiYmFsYW5jZSJdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTUEsV0FBVyxHQUFHQyxPQUFPLENBQUMsNkJBQUQsQ0FBM0I7O0FBQ0EsTUFBTUMsTUFBTSxHQUFHRCxPQUFPLENBQUMsaUJBQUQsQ0FBdEI7O0FBRUFFLFFBQVEsQ0FBQyxhQUFELEVBQWdCLE1BQU07QUFDNUIsTUFBSUMsV0FBSixFQUFpQkMsWUFBakIsRUFBK0JDLFFBQS9CLEVBQXlDQyxNQUF6QztBQUVBQyxFQUFBQSxVQUFVLENBQUMsTUFBTTtBQUNmSCxJQUFBQSxZQUFZLEdBQUcsSUFBSUgsTUFBSixFQUFmO0FBQ0FJLElBQUFBLFFBQVEsR0FBRyxvQkFBWDtBQUNBQyxJQUFBQSxNQUFNLEdBQUcsRUFBVDtBQUNBSCxJQUFBQSxXQUFXLEdBQUcsSUFBSUosV0FBSixDQUFnQjtBQUFFSyxNQUFBQSxZQUFGO0FBQWdCQyxNQUFBQSxRQUFoQjtBQUEwQkMsTUFBQUE7QUFBMUIsS0FBaEIsQ0FBZDtBQUNELEdBTFMsQ0FBVjtBQU9BRSxFQUFBQSxFQUFFLENBQUMsYUFBRCxFQUFnQixNQUFNO0FBQ3RCQyxJQUFBQSxNQUFNLENBQUNOLFdBQUQsQ0FBTixDQUFvQk8sY0FBcEIsQ0FBbUMsSUFBbkM7QUFDRCxHQUZDLENBQUY7QUFJQVIsRUFBQUEsUUFBUSxDQUFDLFdBQUQsRUFBYyxNQUFNO0FBQzFCTSxJQUFBQSxFQUFFLENBQUMsa0JBQUQsRUFBcUIsTUFBTTtBQUMzQkMsTUFBQUEsTUFBTSxDQUFDTixXQUFELENBQU4sQ0FBb0JPLGNBQXBCLENBQW1DLFdBQW5DO0FBQ0QsS0FGQyxDQUFGO0FBSUFGLElBQUFBLEVBQUUsQ0FBQyw0QkFBRCxFQUErQixNQUFNO0FBQ3JDQyxNQUFBQSxNQUFNLENBQUNOLFdBQVcsQ0FBQ1EsU0FBWixDQUFzQk4sUUFBdEIsQ0FBRCxDQUFOLENBQXdDTyxPQUF4QyxDQUFnRE4sTUFBaEQ7QUFDRCxLQUZDLENBQUY7QUFJQUUsSUFBQUEsRUFBRSxDQUFDLDZDQUFELEVBQWdELE1BQU07QUFDdERDLE1BQUFBLE1BQU0sQ0FBQ04sV0FBVyxDQUFDUSxTQUFaLENBQXNCUCxZQUFZLENBQUNTLFNBQW5DLENBQUQsQ0FBTixDQUFzREQsT0FBdEQsQ0FDRVIsWUFBWSxDQUFDVSxPQUFiLEdBQXVCUixNQUR6QjtBQUdELEtBSkMsQ0FBRjtBQUtELEdBZE8sQ0FBUjtBQWVELENBN0JPLENBQVIiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBUcmFuc2FjdGlvbiA9IHJlcXVpcmUoXCIuLi93YWxsZXQvdHJhbnNhY3Rpb24vaW5kZXhcIik7XHJcbmNvbnN0IFdhbGxldCA9IHJlcXVpcmUoXCIuLi93YWxsZXQvaW5kZXhcIik7XHJcblxyXG5kZXNjcmliZShcIlRyYW5zYWN0aW9uXCIsICgpID0+IHtcclxuICBsZXQgdHJhbnNhY3Rpb24sIHNlbmRlcldhbGxldCwgcmVjZWl2ZXIsIGFtb3VudDtcclxuXHJcbiAgYmVmb3JlRWFjaCgoKSA9PiB7XHJcbiAgICBzZW5kZXJXYWxsZXQgPSBuZXcgV2FsbGV0KCk7XHJcbiAgICByZWNlaXZlciA9IFwicmVjZWl2ZXItcHVibGljS2V5XCI7XHJcbiAgICBhbW91bnQgPSAyMDtcclxuICAgIHRyYW5zYWN0aW9uID0gbmV3IFRyYW5zYWN0aW9uKHsgc2VuZGVyV2FsbGV0LCByZWNlaXZlciwgYW1vdW50IH0pO1xyXG4gIH0pO1xyXG5cclxuICBpdChcImhhcyBhbiBgaWRgXCIsICgpID0+IHtcclxuICAgIGV4cGVjdCh0cmFuc2FjdGlvbikudG9IYXZlUHJvcGVydHkoXCJpZFwiKTtcclxuICB9KTtcclxuXHJcbiAgZGVzY3JpYmUoXCJvdXRwdXRNYXBcIiwgKCkgPT4ge1xyXG4gICAgaXQoXCJoYXMgYW4gb3V0cHV0TWFwXCIsICgpID0+IHtcclxuICAgICAgZXhwZWN0KHRyYW5zYWN0aW9uKS50b0hhdmVQcm9wZXJ0eShcIm91dHB1dE1hcFwiKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGl0KFwib3V0cHV0cyBhbW91bnQgb2YgcmVjZWl2ZXJcIiwgKCkgPT4ge1xyXG4gICAgICBleHBlY3QodHJhbnNhY3Rpb24ub3V0cHV0TWFwW3JlY2VpdmVyXSkudG9FcXVhbChhbW91bnQpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoXCJvdXRwdXRzIHRoZSByZW1haW5pbmcgYmFsYW5jZSBvZiB0aGUgc2VuZGVyXCIsICgpID0+IHtcclxuICAgICAgZXhwZWN0KHRyYW5zYWN0aW9uLm91dHB1dE1hcFtzZW5kZXJXYWxsZXQucHVibGljS2V5XSkudG9FcXVhbChcclxuICAgICAgICBzZW5kZXJXYWxsZXQuYmFsYW5jZSAtIGFtb3VudFxyXG4gICAgICApO1xyXG4gICAgfSk7XHJcbiAgfSk7XHJcbn0pO1xyXG4iXX0=