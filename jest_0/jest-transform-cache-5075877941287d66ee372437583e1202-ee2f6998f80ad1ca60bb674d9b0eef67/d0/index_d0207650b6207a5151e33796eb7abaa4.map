{"version":3,"sources":["index.js"],"names":["uuid","require","Transaction","constructor","senderWallet","receiver","amount","id","outputMap","createOutputMap","input","createInput","validateTransaction","transaction","publicKey","balance","timestamp","Date","now","address","signature","sign","module","exports"],"mappings":"AAAA,MAAMA,IAAI,GAAGC,OAAO,CAAC,SAAD,CAApB;;AAEA,MAAMC,WAAN,CAAkB;AAChBC,EAAAA,WAAW,CAAC;AAAEC,IAAAA,YAAF;AAAgBC,IAAAA,QAAhB;AAA0BC,IAAAA;AAA1B,GAAD,EAAqC;AAC9C,SAAKC,EAAL,GAAUP,IAAI,EAAd;AACA,SAAKQ,SAAL,GAAiB,KAAKC,eAAL,CAAqB;AAAEL,MAAAA,YAAF;AAAgBC,MAAAA,QAAhB;AAA0BC,MAAAA;AAA1B,KAArB,CAAjB;AACA,SAAKI,KAAL,GAAa,KAAKC,WAAL,CAAiB;AAAEP,MAAAA,YAAF;AAAgBI,MAAAA,SAAS,EAAE,KAAKA;AAAhC,KAAjB,CAAb;AACD;;AAED,SAAOI,mBAAP,CAA2BC,WAA3B,EAAwC;AACtC,WAAO,IAAP;AACD;;AAEDJ,EAAAA,eAAe,CAAC;AAAEL,IAAAA,YAAF;AAAgBC,IAAAA,QAAhB;AAA0BC,IAAAA;AAA1B,GAAD,EAAqC;AAClD,UAAME,SAAS,GAAG,EAAlB;AAEAA,IAAAA,SAAS,CAACH,QAAD,CAAT,GAAsBC,MAAtB;AACAE,IAAAA,SAAS,CAACJ,YAAY,CAACU,SAAd,CAAT,GAAoCV,YAAY,CAACW,OAAb,GAAuBT,MAA3D;AAEA,WAAOE,SAAP;AACD;;AAEDG,EAAAA,WAAW,CAAC;AAAEP,IAAAA,YAAF;AAAgBI,IAAAA;AAAhB,GAAD,EAA8B;AACvC,WAAO;AACLQ,MAAAA,SAAS,EAAEC,IAAI,CAACC,GAAL,EADN;AAELZ,MAAAA,MAAM,EAAEF,YAAY,CAACW,OAFhB;AAGLI,MAAAA,OAAO,EAAEf,YAAY,CAACU,SAHjB;AAILM,MAAAA,SAAS,EAAEhB,YAAY,CAACiB,IAAb,CAAkBb,SAAlB;AAJN,KAAP;AAMD;;AA3Be;;AA8BlBc,MAAM,CAACC,OAAP,GAAiBrB,WAAjB","sourcesContent":["const uuid = require(\"uuid/v1\");\r\n\r\nclass Transaction {\r\n  constructor({ senderWallet, receiver, amount }) {\r\n    this.id = uuid();\r\n    this.outputMap = this.createOutputMap({ senderWallet, receiver, amount });\r\n    this.input = this.createInput({ senderWallet, outputMap: this.outputMap });\r\n  }\r\n\r\n  static validateTransaction(transaction) {\r\n    return true;\r\n  }\r\n\r\n  createOutputMap({ senderWallet, receiver, amount }) {\r\n    const outputMap = {};\r\n\r\n    outputMap[receiver] = amount;\r\n    outputMap[senderWallet.publicKey] = senderWallet.balance - amount;\r\n\r\n    return outputMap;\r\n  }\r\n\r\n  createInput({ senderWallet, outputMap }) {\r\n    return {\r\n      timestamp: Date.now(),\r\n      amount: senderWallet.balance,\r\n      address: senderWallet.publicKey,\r\n      signature: senderWallet.sign(outputMap)\r\n    };\r\n  }\r\n}\r\n\r\nmodule.exports = Transaction;\r\n"]}